# Dockerfile作成
```
# ベースイメージの設定

  

FROM nvidia/opengl:base-ubuntu22.04

  

# 環境変数の設定

  

ENV DEBIAN_FRONTEND=noninteractive

  

# 対話モード無効

  

ENV __NV_PRIME_RENDER_OFFLOAD=1

  

# GPU利用

  

ENV __GLX_VENDOR_LIBRARY_NAME=nvidia

  

# 必要なパッケージのインストール

  

RUN apt-get update && apt-get install -y \

curl \

gnupg \

lsb-release \

git-all \

python3-pip \

build-essential \

cmake \

&& rm -rf /var/lib/apt/lists/*

  

# ROSのリポジトリをsource listに追加

  

ENV UBUNTU_CODENAME=focal

  

RUN curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | apt-key add - \

&& echo "deb http://packages.ros.org/ros2/ubuntu $(lsb_release -cs) main" > /etc/apt/sources.list.d/ros2-latest.list

  

# ROS2のインストール

  

RUN apt-get update && apt-get install -y \

ros-humble-desktop

  

# colconのインストール

  

RUN apt-get install -y python3-colcon-common-extensions \

python3-vcstool

  

# rqtのプラグインをインストール

  

RUN apt-get install -y ros-humble-rqt-*

  

# rosdepインストール

  

# ament-cmakeはutraインストールに必要

  

RUN apt-get update && apt-get install -y python3-rosdep2 ros-humble-ament-cmake

  

RUN if [ ! -f /etc/ros/rosdep/sources.list.d/20-default.list ]; \

then rosdep init; fi && rosdep update

  

# ワークスペースの作成

  

RUN mkdir -p ~/worksp/utra_ws/src

  

# UTRA_ROS2のクローン

  

WORKDIR /root/worksp/utra_ws/src

  

RUN git clone -b master https://github.com/UmbraTek/ut_arm_ros2.git \

&& rosdep update

  

WORKDIR /root/worksp/utra_ws

  

RUN rosdep install --ignore-src --from-paths src --rosdistro humble -y && \

/bin/bash -c "source /opt/ros/humble/setup.bash && colcon build"

  

WORKDIR /root/worksp

  

RUN mkdir -p ~/worksp/camera_ws/src

  

WORKDIR /root/worksp/camera_ws/src

# librealsense, realsense-rosのインストール

RUN apt-get update \

&& apt-get install -y \

ros-humble-librealsense2* \

ros-humble-realsense2-camera \

&& rm -rf /var/lib/apt/lists/*

RUN echo 'source /opt/ros/humble/setup.bash' >> ~/.bashrc

# エントリーポイントを設定

COPY ./ros_entrypoint.sh /

RUN chmod +x /ros_entrypoint.sh

ENTRYPOINT ["/ros_entrypoint.sh"]

# コマンドを設定
  
CMD ["bash"]
```

# nmapでIP確認
```bash
$ nmap -sn 192.168.11.54/24
Starting Nmap 7.80 ( https://nmap.org ) at 2025-08-27 17:25 JST
Nmap scan report for apf0f84ac563e0 (192.168.11.1)
Host is up (0.00066s latency).
Nmap scan report for 192.168.11.23
Host is up (0.000091s latency).
Nmap scan report for 192.168.11.44
Host is up (0.021s latency).
Nmap scan report for 192.168.11.54
Host is up (0.00013s latency).
Nmap scan report for 192.168.11.160
Host is up (0.00063s latency).
Nmap done: 256 IP addresses (5 hosts up) scanned in 15.52 seconds
```

前回と変わらずUTRAのIPは192.168.11.160

ブラウザでもちゃんと認識する