# Todo
- get_stream_from_url.pyの遅延修正
- serialUSBの初期設定
- gripper_control.pyのROS2ラッピング

# get_stream_from_url.py
## 実装リスト
- [x] reset_frame 
- [x] raw_RGB_frames
- [x] diff_images
- [x] grad_images
- [x] depth_images
- [ ] max_depths
  各フレーム最大
- [ ] max_depth
  全フレーム最大
- [ ] mean_depths
- [x] calc_diff_image
- [x] img2grad
- [x] img2depth
- [ ] prepare_stream
- [x] start_stream
  - [x] plot
  - [x] plot_diff
  - [ ] plot_depth
  - [ ] save_frames
- [ ] start_plotting
- [ ] decode_image_from_stream
- [ ] **auto_clip(self, depth_thresh, clip_offset, return_indices)**
- [ ] save

### class内関数の先頭に_をつける理由
- **内部実装（private扱い）として使うメソッド**
- **クラス外（利用者側）から直接呼ばないことを期待するメソッド**
## あ
結局640x480にリサイズするなら最初からその解像度で取得したほうがいい？

# Serial USB Setting
## log
1. 確認用コマンド
```bash
$ udevadm info -q property -n /dev/ttyUSB0 | grep -E "ID_SERIAL_SHORT=|ID_VENDOR_ID=|ID_MODEL_ID="
```
```bash 
ID_VENDOR_ID=0403
ID_MODEL_ID=6001
ID_SERIAL_SHORT=BG00XX91 
```
## 基本情報

| ID          | Value    |
| ----------- | -------- |
| manufacture | FTDI     |
| idVendor    | 0403     |
| idProduct   | 6001     |
| serial      | BG00XX91 |
| product     |          |
1. nanoでルールファイルを作成(USB抜いてたほうがいいかも)
```bash
$ sudo nano /etc/udev/rules.d/99-ft232r-serial.rules

```

```d
KERNEL=="ttyUSB*", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6001", ATTRS{serial}=="BG00XX91", SYMLINK+="FT232R_gripper", MODE="0666"
```
2. システムリロード
```bash
$ sudo udevadm control --reload
```
```
$ sudo udevadm trigger

```
2. USB挿して確認
```bash
ls -l /dev/FT232R_gripper
```
# 参考
[USB-シリアル変換器のデバイスファイル名を固定する](https://smdn.jp/electronics/udev_create_persistent_usb_device_symlink/ "USB-シリアル変換器のデバイスファイル名を固定する - smdn.jp")
